---
mail_subdomain: mail

install_type: minimal

convenient_subdomain: False

required_subdomains:
  - openpgpkey
  - autoconfig
  - autodiscover
  - mta-sts

optional_subdomains:
  - imap
  - pop3
  - smtp
  - rspamd

extra_subdomains:
  - dav
  - webmail

subdomains_constructed: >-
  {% if convenient_subdomain %}
  {% set convenient_subdomain_list = optional_subdomains %}
  {% else %}
  {% set convenient_subdomain_list = [] %}
  {% endif %}
  {% if install_type == 'extra' %}
    {{ required_subdomains + convenient_subdomain_list + extra_subdomains }}
  {% else %}
    {{ required_subdomains + convenient_subdomain_list }}
  {% endif %}

subdomains: "{{ subdomains_constructed|from_yaml }}"

timezone: "Etc/UTC"

#####
# Username delimiter to give all users access to infinite aliases
# Is set to + by default can by set to any single character
# NOTE: If set to some ascii character (such as 'a') a lot of
# users will stop getting their mails if they have this character in
# their username. Use with care, but + . - _ are good choices
username_delimiter: "+"

#####
max_attachment_size: 32 # in MB

openldap_schemas_extra:
  - "excision-mail.schema"

##### webmail, caldav and carddav
#
# If extras are enabled there is an option to set them up
# on a separate machine and let the two machines
# interact with each other through a private network/VPN.
# Wireguard is a really good candidate to setup such a VPN,
# in which case it is possible to set the 'extras_ip' to the
# wireguard peer IP and in the above configuration set http/s
# interface to tun0/wg0
extras_ip: 127.0.0.1
extras_port: 8081

ssl_key_type: rsa

dkim_key_type: rsa
dkim_selector:
  rsa: excisionRSA
  ed25519: excisionED

migration: false
